# ุขููุฒุด ุฏูุง ุงูุณุชฺฉ - ูุณูุช ุฏูู ุงุฏุงูู ูุนุฑู ุงูุณุชฺฉ

### ูุณู ูุจู ุฏุชุงุจุณ ๐จโ๐ฆณ ูุง vs ุฏุชุงุจุณ ุงูุณุชฺฉ ๐ถ
ฺฉ ุฏฺฏุฑ ุงุฒ ุนูุช ูุง ูพุดุฑูุช ุงูุณุชฺฉ ู ุชูุณุนู ุขู ุงู ุจูุฏ ฺฉู ุขูุง Shay ุจุนุฏุงุฒ ุงูู ูพุฑูฺู  ูุฑู ุงูุฒุงุฑ ุขุดูพุฒ ฺฉู ุจุฑุง ููุณุฑุด ุณุงุฎุช ุ ูููุฏ ุงู ุฑูฺฉุฑุฏ ู ุชูุณุนู ูุชููู ฺฉุงุฑ ุฑู ุฏุฑ ูุณุงุฆู ุนุงู ุขุณุงูุชุฑ ฺฉูุฏ .
ูุจู ุงุฒ Elastic ุ ุงฺฏู ูโุฎูุงุณุชุฏ ุชู ุฏุงุฏูโูุง ุจุฒุฑฺฏ ุฌุณุชุฌู ฺฉูุฏ ุง ุชุญููุดูู ฺฉูุฏุ ูุนูููุงู ูุฌุจูุฑ ุจูุฏุฏ ุงุฒ ุฏุชุงุจุณโูุง ุฑุงุจุทูโุง ูุซู MySQL ุง PostgreSQL ุงุณุชูุงุฏู ฺฉูุฏ.

ูู ุงู ุฏุชุงุจุณโูุง ุจุฑุง ุงู ฺฉุงุฑ ุณุงุฎุชู ูุดุฏู ุจูุฏู.

๐ **ูุซุงู ููููุณ**: ุชุตูุฑ ฺฉูุฏ ูโุฎูุงูุฏ ุฏุฑ ฑฐฐ ูููู ุณูุฏ PDF ฺฉููู "ุฎุทุง ุณุฑูุฑ" ุฑุง ูพุฏุง ฺฉูุฏ. ุฌุณุชุฌู ูุนููู ูุซู grep ููฺฉู ุงุณุช ุณุงุนุชโูุง ุทูู ุจฺฉุดุฏุ ุงูุง Elasticsearch ุงู ฺฉุงุฑ ุฑุง ุฏุฑ **ฺูุฏ ููโุซุงูู** ุงูุฌุงู ูโุฏูุฏ!


#### ูุซุงู 1 
ู ฺฉุชุงุจุฎูููโ ุจุฒุฑฺฏ ุฏุงุฑุฏ ู ูโุฎูุงูุฏ ูููโ ฺฉุชุงุจโูุง ฺฉู ฺฉูููโ "ุฌูฺฏ" ุชูุดูู ูุณุช ุฑู ูพุฏุง ฺฉูุฏ.
ุฏุชุงุจุณโูุง ูุฏู ูุซู ุงู ุจูุฏู ฺฉู ูุฌุจูุฑ ุจุดุฏ ุชฺฉโุชฺฉ ุตูุญุงุช ูููโ ฺฉุชุงุจโูุง ุฑู ุจุฎููุฏโุฎู ฺฉูุฏ ู ุฎุณุชูโฺฉููุฏู!
ฺูู ุฏุฑ ุงู ููุน ุฏุชุงุจุณ ูุง ูุง ุจุฑ ุงุณุงุณ ฺฉูุฆุฑ ุฏุงุฏู ูุงุฑู ูุงุจู ู ฺฉูุฆุฑ ูู ุฏุฑ ฺฉู ุฏุงุฏู ูุง ุฏูุจุงู ูุชุงุฌ ุงุณุช.

#### ูุซุงู 2 
 ุดูุง ุตุฏูุง ุณุฑูุฑุ ุงูพูฺฉุดู ู ุณุฑูุณ ุฏุงุฑุฏ. ูุฑ ฺฉุฏุงู ุฏุฑ ุญุงู ูุงฺฏโุณุงุฒ ูุณุชูุฏ ู ุงู ูุงฺฏโูุง ุจุงุฏ:

- ุงููุง ุฐุฎุฑู ุดููุฏ
- ุฏููุง ุฌุณุชุฌููพุฐุฑ ุจุงุดูุฏ
- ุณููุง ุณุฑุน ุชุญูู ุดููุฏ
- ฺูุงุฑูุง ุฏุฑ ูุงูุจ ฺฏุฑุงูฺฉ ููุงุด ุฏุงุฏู ุดููุฏ

ุงูุง ูุดฺฉู ุงูุฌุงุณุช ฺฉู ุ ุฏุชุงุจุณโูุง ุณูุช ูุซู MySQL ุง PostgreSQL:

- ุจุฑุง ูุงฺฏโูุง ุญุฌู ููุงุณุจ ูุณุชูุฏ.
- ุฌุณุชุฌููุง ูุชู ูพฺุฏู ุฑู ุขูโูุง ฺฉูุฏ ุงุณุช.
- ููุงุณโูพุฐุฑ ุนููุฏ ุฏุงุฑูุฏ (ุงูุฒุงุด ุณุฎุชโุงูุฒุงุฑ)ุ ูู ุงูู (ุงูุฒุงุด ููุฏ).

#### ูุซุงู 3 
ู ุฏูุชุฑฺู ุงุฏุฏุงุดุช ุฏุงุฑุฏ ฺฉู ุชูุด ูุฑ ุฎุท ู ูุงฺฏ ุงุฒ ูุจโุณุงุชุชููู. 
ุญุงูุง ูโุฎูุงูุฏ ูููโ ุฎุทโูุง ฺฉู ฺฉูููโ "error" ุชูุดูู ูุณุช ุฑู ูพุฏุง ฺฉูุฏ:

- **ุฏุชุงุจุณ ุฑุงุจุทูโุง**: ุจุงุฏ ุชฺฉโุชฺฉ ุฎุทโูุง ุฑู ุจุฎููุฏ (ูุซู ุงุณฺฉู ฺฉุฑุฏู ฺฉู ุฏูุชุฑฺู ุจุง ุฏุณุช).
-  ุงู ฺฉุงุฑ ุจุฑุง ฑฐ ุฎุท ุฎูุจูุ ูู ุจุฑุง ฑ ูููู ุฎุท ุงูุชุถุงุญู!
- ุงูุง **Elasticsearch**: ู ููุฑุณุช ุขูุงุฏู ุฏุงุฑู ฺฉู ูโฺฏู "error" ุชู ฺฉุฏูู ุฎุทโูุงุณุช (ูุซู ู ููุฑุณุช ุขุฎุฑ ฺฉุชุงุจ). ุจุฑุง ููู ุชู ฺูุฏ ุซุงูู ุฌูุงุจ ูโุฏู.
ุงูุณุชฺฉ ุจุง ู ุฑูุด ููุดููุฏุงูู ุจู ุงุณู inverted index ู ุชูุงูุง ฺฉุงุฑ ุจุง ุฏุงุฏูโูุง ุจู ุตูุฑุช ุชูุฒุนโุดุฏูุ ุฌุณุชุฌู ู ุชุญูู ุฑู ุณุฑุน ู ุงูุนุทุงูโูพุฐุฑ ฺฉุฑุฏ.


### ููุงุณ ูพุฐุฑ ุนููุฏ โ๏ธ ู ุงูู โ๏ธ
ุฏุชุงุจุณโูุง ุณูุช ุจุดุชุฑ ุจู ููุงุณโูพุฐุฑ ุนููุฏ ูุงุจุณุชูโุงู. ุนู ุงฺฏู ุจุฎูุงุฏ ุชุนุฏุงุฏ ฺฉุงุฑุจุฑูุง ุง ุฏุงุฏูโูุง ุฑู ุจุดุชุฑ ฺฉูุฏุ ุจุงุฏ ุฎูุฏ ุขู ุณุฑูุฑ ุฑู ุงุฒ ูุธุฑ ุณุฎุช ุงูุฒุงุฑ ููโุชุฑ ฺฉูุฏ.
ุนุจ ุจุฒุฑฺฏ ููุงุณ ูพุฐุฑ ุนููุฏ:
- ุงููุง ูุฒูู ูุง ุฒุงุฏุชุฑ ุฏุงุฑุฏุ ฺูู ูุฒูู ุฏุฑ ูุจุงู ุงุฑุชูุงุก ุณุฎุช ุงูุฒุงุฑ ุฎุท ุงุถุงูู ููุดูุฏ ู ุฑุดุฏ ููุง ุฏุงุฑุฏ ู ุฌูุฑุง.
- ุฏููุง ูุญุฏูุฏุช ุฏุงุฑุฏ ุ ฺูู ุงฺฏุฑ ูุฑุถ ฺฉูุฏ ูุงุฑุฏ 5000 ุชุฑุงุจุงุช ูู ฺฉู ุฏุงุดุชู ุจุงุดู ู ุชูู ฺฉูู ุจุงุฒู ูุญุฏูุฏู.

  
>- ุงูุง ุฏุฑ ููุงุณ ูพุฐุฑ ุงูู ุฏุณุชููู ุจุงุฒู ููู ุฌูุฑู ู ุงูฺฉู ูุฒูู ูุง ุจู ูุณุจุช ููุงุณ ูพุฐุฑ ุนููุฏุ ุงูุฒุงุด ููุงุจุฏ.
>- ุงุจุฒุงุฑ Elasticsearch ุงุฒ ููุงุณโูพุฐุฑ ุงูู ุงุณุชูุงุฏู ูโฺฉูู ู ุงู ุจุงุนุซ ูโุดู ุฎู ุงูุนุทุงูโูพุฐุฑุชุฑ ุจุงุดู.

> <img width="100%" alt="lucene query" src="https://github.com/user-attachments/assets/ba10b41d-a1a8-4e75-9be3-c7b5ca4b0b73" />


---
### โ ฺุฑุง ุฏุชุงุจุณโูุง ุณูุช ูู
### ููุงุณู Elasticsearch ุจุง MySQL:
| ูฺฺฏ         | MySQL              | Elasticsearch        |
|---------------|--------------------|----------------------|
| ุฌุณุชุฌู ูุชู   | ุชุงุจุน ูุงฺฉ ฺฉูุฏ ุงุณุช       | ููโุซุงูู           |
| ุงุณฺฉูุง       | ุซุงุจุช (Schema-On-Write) | ุงูุนุทุงูโูพุฐุฑ (Schema-On-Read) |
| ููุงุณโูพุฐุฑ  | ุนููุฏ              | ุงูู                 |
| ุชุญูู ุฏุงุฏู   | ูุญุฏูุฏ              | ุชุฌูุนุงุช ูพุดุฑูุชู       |

**ูุซุงู ฺฉุงุฑุจุฑุฏ**: 
- ุฏุฑ MySQL ุฌุณุชุฌู `SELECT * FROM logs WHERE message LIKE '%error%'` ุฑู ฑฐฐ ูููู ุฑฺฉูุฑุฏ ููฺฉู ุงุณุช **ุฏูููโูุง** ุทูู ุจฺฉุดุฏ.
- ุฏุฑ Elasticsearch ููุงู ุฌุณุชุฌู **ฺฉูุชุฑ ุงุฒ ฑ ุซุงูู** ุฒูุงู ูโุจุฑุฏ!

