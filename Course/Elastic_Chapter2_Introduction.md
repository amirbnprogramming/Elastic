# آموزش دنیای الستیک - قسمت دوم ادامه معرفی الستیک

### نسل قبل دیتابیس 👨‍🦳 ها vs دیتابیس الستیک 👶
یکی دیگر از علت های پیشرفت الستیک و توسعه آن این بود که آقای Shay بعداز اون پروژه ی نرم افزار آشپزی که برای همسرش ساخت ، فهمید این رویکرد و توسعه میتونه کار رو در مسائل عامی آسانتر کند .
قبل از Elastic ، اگه می‌خواستید توی داده‌های بزرگ جستجو کنید یا تحلیلشون کنید، معمولاً مجبور بودید از دیتابیس‌های رابطه‌ای مثل MySQL یا PostgreSQL استفاده کنید.

ولی این دیتابیس‌ها برای این کار ساخته نشده بودن.

📌 **مثال ملموس**: تصور کنید می‌خواهید در ۱۰۰ میلیون سند PDF کلمه "خطای سرور" را پیدا کنید. جستجوی معمولی مثل grep ممکن است ساعت‌ها طول بکشد، اما Elasticsearch این کار را در **چند میلی‌ثانیه** انجام می‌دهد!


#### مثال 1 
یه کتابخونه‌ی بزرگ دارید و می‌خواهید همه‌ی کتاب‌هایی که کلمه‌ی "جنگ" توشون هست رو پیدا کنید.
دیتابیس‌های قدیمی مثل این بودن که مجبور بشید تک‌تک صفحات همه‌ی کتاب‌ها رو بخونید—خیلی کند و خسته‌کننده!
چون در این نوع دیتابیس ها ما بر اساس کوئری داده هارو میابیم و کوئری هم در کل داده ها دنبال نتایج است.

#### مثال 2 
 شما صدها سرور، اپلیکیشن و سرویس دارید. هر کدام در حال لاگ‌سازی هستند و این لاگ‌ها باید:

- اولا ذخیره شوند
- دوما جستجوپذیر باشند
- سوما سریع تحلیل شوند
- چهارما در قالب گرافیکی نمایش داده شوند

اما مشکل اینجاست که ، دیتابیس‌های سنتی مثل MySQL یا PostgreSQL:

- برای لاگ‌های حجیم مناسب نیستند.
- جستجوهای متنی پیچیده روی آن‌ها کند است.
- مقیاس‌پذیری عمودی دارند (افزایش سخت‌افزار)، نه افقی (افزایش نود).

#### مثال 3 
یه دفترچه یادداشت دارید که توش هر خط یه لاگ از وب‌سایتتونه. 
حالا می‌خواهید همه‌ی خط‌هایی که کلمه‌ی "error" توشون هست رو پیدا کنید:

- **دیتابیس رابطه‌ای**: باید تک‌تک خط‌ها رو بخونید (مثل اسکن کردن کل دفترچه با دست).
-  این کار برای ۱۰ خط خوبه، ولی برای ۱ میلیون خط افتضاحه!
- اما **Elasticsearch**: یه فهرست آماده داره که می‌گه "error" توی کدوم خط‌هاست (مثل یه فهرست آخر کتاب). برای همین توی چند ثانیه جواب می‌ده.
الستیک با یه روش هوشمندانه به اسم inverted index و توانایی کار با داده‌ها به صورت توزیع‌شده، جستجو و تحلیل رو سریع و انعطاف‌پذیر کرد.


### مقیاس پذیری عمودی ↕️ و افقی ↔️
دیتابیس‌های سنتی بیشتر به مقیاس‌پذیری عمودی وابسته‌ان. یعنی اگه بخواید تعداد کاربرها یا داده‌ها رو بیشتر کنید، باید خود آن سرور رو از نظر سخت افزاری قوی‌تر کنید.
عیب بزرگ مقیاس پذیری عمودی:
- اولا هزینه های زیادتری دارد، چون هزینه در قبال ارتقاء سخت افزار خطی اضافه نمیشود و رشد نمایی دارد یه جورایی.
- دوما محدودیت دارد ، چون اگر فرض کنید هارد 5000 ترابایتی هم که داشته باشیم و تهیه کنیم بازم محدوده.

  
>- اما در مقیاس پذیری افقی دستمون بازه همه جوره و اینکه هزینه ها به نسبت مقیاس پذیری عمودی، افزایش نمیابد.
>- ابزار Elasticsearch از مقیاس‌پذیری افقی استفاده می‌کنه و این باعث می‌شه خیلی انعطاف‌پذیرتر باشه.

> <img width="100%" alt="lucene query" src="https://github.com/user-attachments/assets/ba10b41d-a1a8-4e75-9be3-c7b5ca4b0b73" />


---
### ❓ چرا دیتابیس‌های سنتی نه
### مقایسه Elasticsearch با MySQL:
| ویژگی         | MySQL              | Elasticsearch        |
|---------------|--------------------|----------------------|
| جستجوی متن   | تابع لایک کند است       | میلی‌ثانیه           |
| اسکیما       | ثابت (Schema-On-Write) | انعطاف‌پذیر (Schema-On-Read) |
| مقیاس‌پذیری  | عمودی              | افقی                 |
| تحلیل داده   | محدود              | تجمعات پیشرفته       |

**مثال کاربردی**: 
- در MySQL جستجوی `SELECT * FROM logs WHERE message LIKE '%error%'` روی ۱۰۰ میلیون رکورد ممکن است **دقیقه‌ها** طول بکشد.
- در Elasticsearch همان جستجو **کمتر از ۱ ثانیه** زمان می‌برد!

